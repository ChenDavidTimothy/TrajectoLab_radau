/* MAPTOR Dark Mode - Efficient Color-Only Customization */

/* Import modern fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');

/* Core Typography */
body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: #2d2d2d;
    color: #e5e7eb;
}

/* Code Typography */
code, .highlight, pre {
    font-family: 'JetBrains Mono', 'SF Mono', Monaco, 'Cascadia Code', monospace;
    background-color: #1f1f1f;
    color: #e5e7eb;
    border: 1px solid #404040;
}

code {
    padding: 0.2em 0.4em;
    border-radius: 4px;
}

/* Headers - Keep RTD structure, change colors only */
h1, h2, h3, h4, h5, h6 {
    color: #e5e7eb;
}

h1 {
    border-bottom: 3px solid #991b1b;
}

h2 {
    border-bottom: 2px solid #404040;
}

/* Links */
a {
    color: #f87171; /* Bright red for highlights */
}

a:hover {
    color: #991b1b; /* Brand maroon on hover */
}

/* CRITICAL FIX: Sidebar dropdown stays dark */
.wy-side-nav-search {
    background-color: #2d2d2d;
}

.wy-side-nav-search > a {
    color: #e5e7eb;
}

/* CRITICAL FIX: All dropdown levels stay dark - comprehensive targeting */
.wy-menu-vertical a {
    color: #e5e7eb;
    background-color: transparent;
}

.wy-menu-vertical a:hover {
    background-color: #404040 !important; /* Dark grey, not white */
    color: #e5e7eb;
}

/* COMPREHENSIVE FIX: Target ALL possible RTD nested menu structures */
.wy-menu-vertical li.toctree-l1 > a,
.wy-menu-vertical li.toctree-l2 > a,
.wy-menu-vertical li.toctree-l3 > a,
.wy-menu-vertical li.toctree-l4 > a {
    background-color: transparent;
    color: #e5e7eb;
}

.wy-menu-vertical li.toctree-l1 > a:hover,
.wy-menu-vertical li.toctree-l2 > a:hover,
.wy-menu-vertical li.toctree-l3 > a:hover,
.wy-menu-vertical li.toctree-l4 > a:hover {
    background-color: #404040 !important;
    color: #e5e7eb;
}

/* NUCLEAR OPTION: Force ALL li elements in sidebar to be dark */
.wy-menu-vertical li {
    background-color: #2d2d2d !important;
}

.wy-menu-vertical li a {
    background-color: transparent !important;
    color: #e5e7eb !important;
}

.wy-menu-vertical li:hover,
.wy-menu-vertical li a:hover {
    background-color: #404040 !important;
    color: #e5e7eb !important;
}

/* Force dark background for ALL nested containers */
.wy-menu-vertical .toctree-l2,
.wy-menu-vertical .toctree-l3,
.wy-menu-vertical .toctree-l4 {
    background-color: #2d2d2d !important;
}

/* Current item highlighting with brand color */
.wy-menu-vertical li.toctree-l1.current > a,
.wy-menu-vertical li.toctree-l2.current > a,
.wy-menu-vertical li.toctree-l3.current > a {
    background-color: #991b1b; /* Brand maroon for current item */
    color: #e5e7eb;
}

.wy-menu-vertical li.current {
    background-color: #2d2d2d !important; /* Keep dark background */
}

.wy-menu-vertical li.current a {
    color: #e5e7eb;
    background-color: transparent;
}

/* Fix dropdown expansion areas */
.wy-menu-vertical li.toctree-l1.current .toctree-l2 {
    background-color: #2d2d2d !important; /* Force dark background */
}

.wy-menu-vertical li.toctree-l2.current .toctree-l3 {
    background-color: #2d2d2d !important; /* Force dark background */
}

/* CRITICAL FIX: Main content area - all RTD content wrappers */
.wy-nav-content {
    background-color: #2d2d2d;
}

.wy-nav-content-wrap {
    background-color: #2d2d2d;
}

.rst-content {
    background-color: #2d2d2d;
    color: #e5e7eb;
}

.document {
    background-color: #2d2d2d;
}

/* Force main page background */
.wy-grid-for-nav {
    background-color: #2d2d2d;
}

/* Code blocks - enhanced readability */
div.highlight {
    background-color: #1f1f1f;
    border: 1px solid #404040;
    border-radius: 4px;
}

/* Tables - readable dark theme */
table.docutils {
    background-color: #1f1f1f;
    color: #e5e7eb;
    border: 1px solid #404040;
}

table.docutils th {
    background-color: #991b1b; /* Brand maroon for headers */
    color: #e5e7eb;
}

table.docutils td {
    border-bottom: 1px solid #404040;
    background-color: #1f1f1f;
}

table.docutils tr:hover {
    background-color: #404040;
}

/* Admonitions - brand accent backgrounds */
/* ADMONITION DARK THEME FIX - Distinct colors with clear visibility */

/* Base dark theme for all admonitions */
.rst-content .admonition {
    background-color: #1f1f1f !important;
    color: #e5e7eb !important;
    border: 1px solid #404040 !important;
}

/* NOTE - Blue accent (informational) */
.rst-content .admonition.note {
    border-left: 4px solid #3b82f6 !important;
}
.rst-content .admonition.note .admonition-title {
    background-color: #1e40af !important;
    color: #e5e7eb !important;
    padding: 8px 12px !important;
    margin: -12px -12px 12px -12px !important;
}

/* WARNING - Amber accent (caution) */
.rst-content .admonition.warning {
    border-left: 4px solid #f59e0b !important;
}
.rst-content .admonition.warning .admonition-title {
    background-color: #d97706 !important;
    color: #e5e7eb !important;
    padding: 8px 12px !important;
    margin: -12px -12px 12px -12px !important;
}

/* DANGER/ERROR - Red accent (critical) */
.rst-content .admonition.danger,
.rst-content .admonition.error {
    border-left: 4px solid #ef4444 !important;
}
.rst-content .admonition.danger .admonition-title,
.rst-content .admonition.error .admonition-title {
    background-color: #dc2626 !important;
    color: #e5e7eb !important;
    padding: 8px 12px !important;
    margin: -12px -12px 12px -12px !important;
}

/* IMPORTANT - Brand maroon (your existing theme) */
.rst-content .admonition.important {
    border-left: 4px solid #991b1b !important;
}
.rst-content .admonition.important .admonition-title {
    background-color: #991b1b !important;
    color: #e5e7eb !important;
    padding: 8px 12px !important;
    margin: -12px -12px 12px -12px !important;
}

/* TIP/HINT - Green accent (helpful) */
.rst-content .admonition.tip,
.rst-content .admonition.hint {
    border-left: 4px solid #10b981 !important;
}
.rst-content .admonition.tip .admonition-title,
.rst-content .admonition.hint .admonition-title {
    background-color: #059669 !important;
    color: #e5e7eb !important;
    padding: 8px 12px !important;
    margin: -12px -12px 12px -12px !important;
}

/* Ensure all content inside admonitions is visible */
.rst-content .admonition p,
.rst-content .admonition ul,
.rst-content .admonition ol,
.rst-content .admonition code {
    color: #e5e7eb !important;
}

/* API documentation - maintain readability */
dl.class, dl.function, dl.method {
    background-color: #1f1f1f;
    border: 1px solid #404040;
    color: #e5e7eb;
}

dt.sig {
    background-color: transparent;
    color: #e5e7eb;
}
